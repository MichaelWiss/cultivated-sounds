<footer class="bg-[#e5e4de] border-t border-vinyl-blue" style="padding-top: {{ section.settings.padding_top }}px; padding-bottom: {{ section.settings.padding_bottom }}px;">
  <div class="page-width px-4 sm:px-8">
    
    <div class="grid grid-cols-1 md:grid-cols-12 gap-12 md:gap-8 mb-16 border-b border-gray-400 pb-12">
      
      <!-- Brand -->
      <div class="md:col-span-4 flex flex-col justify-between h-full">
        <div>
          <div class="mb-6">
             <div class="text-vinyl-blue animate-spin-slow" style="animation-duration: 10s;">
               {% render 'icon-disc' %}
             </div>
          </div>
          <h2 class="font-serif text-4xl italic text-vinyl-blue mb-4">{{ shop.name }}</h2>
          <p class="font-sans text-sm leading-relaxed max-w-xs text-gray-600">
            {{ section.settings.brand_description }}
          </p>
        </div>
      </div>

      <!-- Dynamic Blocks -->
      {%- for block in section.blocks -%}
        <div class="md:col-span-2" {{ block.shopify_attributes }}>
          {%- if block.settings.heading != blank -%}
            <h4 class="font-mono text-xs uppercase tracking-widest text-vinyl-blue mb-6 border-b border-gray-300 pb-2 inline-block">{{ block.settings.heading }}</h4>
          {%- endif -%}
          {%- if block.settings.menu != blank -%}
            <ul class="space-y-3 font-serif text-lg list-unstyled">
              {%- for link in block.settings.menu.links -%}
                <li>
                    <a 
                        href="{{ link.url }}" 
                        class="hover:text-vinyl-blue hover:italic transition-all full-unstyled-link"
                    >
                        {{ link.title }}
                    </a>
                </li>
              {%- endfor -%}
            </ul>
          {%- endif -%}
        </div>
      {%- endfor -%}

      <!-- Newsletter -->
      <div class="md:col-span-4 bg-vinyl-paper border border-vinyl-blue p-6 md:p-8 shadow-[8px_8px_0px_0px_#1a23db]">
        <h3 class="font-serif text-2xl italic mb-2">{{ section.settings.newsletter_heading }}</h3>
        <p class="font-sans text-xs mb-6 text-gray-500">{{ section.settings.newsletter_text }}</p>
        
        {% form 'customer', class: 'flex flex-col gap-3' %}
          <input type="hidden" name="contact[tags]" value="newsletter">
          <div class="field">
            <input 
              id="NewsletterForm--{{ section.id }}"
              type="email" 
              name="contact[email]"
              value="{{ form.email }}"
              aria-required="true"
              autocorrect="off"
              autocapitalize="off"
              autocomplete="email"
              placeholder="{{ 'general.newsletter.label' | t }}" 
              class="w-full bg-transparent border-b border-gray-400 py-2 font-mono text-sm focus:outline-none focus:border-vinyl-blue placeholder:text-gray-400"
              required
            >
          </div>
          <button type="submit" class="mt-2 w-full bg-vinyl-black text-white font-mono text-xs uppercase py-3 hover:bg-vinyl-blue transition-colors flex justify-between px-4 cursor-pointer">
            <span>{{ 'general.newsletter.button_label' | t }}</span>
            <span>â†’</span>
          </button>
          {%- if form.errors -%}
            <small class="newsletter-form__message form__message" id="Newsletter-error--{{ section.id }}">
              {{ form.errors.translated_fields['email'] | capitalize }} {{ form.errors.messages['email'] }}
            </small>
          {%- endif -%}
          {%- if form.posted_successfully? -%}
            <h3 class="newsletter-form__message newsletter-form__message--success form__message" id="Newsletter-success--{{ section.id }}" tabindex="-1" autofocus>
              {{ 'general.newsletter.success' | t }}
            </h3>
          {%- endif -%}
        {% endform %}
      </div>

    </div>

    <div class="flex flex-col md:flex-row justify-between items-center text-[10px] font-mono uppercase tracking-wider text-gray-500 gap-4">
      {%- assign current_year = 'now' | date: "%Y" -%}
      <p>{{ 'general.footer.copyright' | t: year: current_year, shop_name: shop.name }}</p>
      <div class="flex gap-6">
        {% render 'social-icons' %}
      </div>
      <p>{{ 'general.footer.designed_by' | t }}</p>
    </div>

  </div>
</footer>

{% schema %}
{
  "name": "Footer",
  "tag": "footer",
  "class": "section-footer",
  "settings": [
    {
      "type": "textarea",
      "id": "brand_description",
      "label": "Brand Description",
      "default": "We simplify music discovery with a curated selection of vinyl records and audio essentials."
    },
    {
      "type": "text",
      "id": "newsletter_heading",
      "label": "Newsletter Heading",
      "default": "Join the Club"
    },
    {
      "type": "text",
      "id": "newsletter_text",
      "label": "Newsletter Text",
      "default": "Get early access to drops and exclusive content."
    },
    {
      "type": "header",
      "content": "Section Padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding top",
      "default": 64
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding bottom",
      "default": 32
    }
  ],
  "blocks": [
    {
      "type": "link_list",
      "name": "Menu",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "default": "Quick links",
          "label": "Heading"
        },
        {
          "type": "link_list",
          "id": "menu",
          "default": "footer",
          "label": "Menu"
        }
      ]
    }
  ],
  "enabled_on": {
    "groups": ["footer"]
  },
  "presets": [
    {
      "name": "Footer",
      "blocks": [
        {
          "type": "link_list"
        },
        {
          "type": "link_list"
        }
      ]
    }
  ]
}
{% endschema %}
