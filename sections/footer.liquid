<footer class="bg-[#e5e4de] border-t border-vinyl-blue" style="padding-top: {{ section.settings.padding_top }}px; padding-bottom: {{ section.settings.padding_bottom }}px;">
  <div class="page-width px-4 sm:px-8">
    
    <div class="grid grid-cols-1 md:grid-cols-12 gap-12 md:gap-8 mb-16 border-b border-gray-400 pb-12">
      
      <!-- Brand -->
      <div class="md:col-span-4 flex flex-col justify-start">
        <div class="mb-8">
          <a href="{{ routes.root_url }}" class="font-serif text-3xl italic font-bold tracking-tighter text-vinyl-blue decoration-0 no-underline">
            {{ shop.name }}<span class="text-xs align-top not-italic font-sans">®</span>
          </a>
        </div>
        <p class="font-sans text-sm leading-relaxed max-w-xs text-gray-500 mb-8 italic">
          {{ section.settings.brand_description }}
        </p>
        <div class="mt-auto">
          {% render 'social-icons' %}
        </div>
      </div>

      <!-- Dynamic Blocks -->
      {%- for block in section.blocks -%}
        <div class="md:col-span-2" {{ block.shopify_attributes }}>
          {%- if block.settings.heading != blank -%}
            <h4 class="font-mono text-[10px] uppercase tracking-[0.2em] text-gray-400 mb-8">{{ block.settings.heading }}</h4>
          {%- endif -%}
          {%- if block.settings.menu != blank -%}
            <ul class="space-y-4 font-serif text-lg list-unstyled italic">
              {%- for link in block.settings.menu.links -%}
                <li>
                    <a 
                        href="{{ link.url }}" 
                        class="hover:text-vinyl-blue transition-all"
                    >
                        {{ link.title }}
                    </a>
                </li>
              {%- endfor -%}
            </ul>
          {%- endif -%}
        </div>
      {%- endfor -%}

      <!-- Newsletter -->
      <div class="md:col-span-4">
        <div class="bg-white border-2 border-vinyl-blue p-8 shadow-[12px_12px_0px_0px_rgba(26,35,219,1)]">
          <h3 class="font-serif text-2xl italic mb-6 text-vinyl-blue">{{ section.settings.newsletter_heading }}</h3>
          
          {% form 'customer', class: 'flex flex-col' %}
            <input type="hidden" name="contact[tags]" value="newsletter">
            <div class="relative mb-4">
              <input 
                id="NewsletterForm--{{ section.id }}"
                type="email" 
                name="contact[email]"
                value="{{ form.email }}"
                aria-required="true"
                autocorrect="off"
                autocapitalize="off"
                autocomplete="email"
                placeholder="YOUR EMAIL" 
                class="w-full bg-vinyl-paper border border-vinyl-blue py-4 px-4 font-mono text-[10px] uppercase tracking-widest focus:outline-none focus:bg-white transition-colors"
                required
              >
            </div>
            <button type="submit" class="w-full bg-vinyl-blue text-white font-mono text-xs uppercase py-4 hover:bg-black transition-colors flex justify-center items-center gap-3 cursor-pointer tracking-[0.2em]">
              <span>JOIN THE LIST</span>
              <span class="text-xl">→</span>
            </button>
            {%- if form.errors -%}
              <small class="newsletter-form__message form__message text-vinyl-red mt-2" id="Newsletter-error--{{ section.id }}">
                {{ form.errors.translated_fields['email'] | capitalize }} {{ form.errors.messages['email'] }}
              </small>
            {%- endif -%}
            {%- if form.posted_successfully? -%}
              <h3 class="newsletter-form__message newsletter-form__message--success form__message text-green-600 mt-2 font-mono text-xs" id="Newsletter-success--{{ section.id }}" tabindex="-1" autofocus>
                {{ 'general.newsletter.success' | t }}
              </h3>
            {%- endif -%}
          {% endform %}
        </div>
      </div>

    </div>

    <div class="flex flex-col md:flex-row justify-between items-center text-[10px] font-mono uppercase tracking-wider text-gray-500 gap-4">
      {%- assign current_year = 'now' | date: "%Y" -%}
      <p>{{ 'general.footer.copyright' | t: year: current_year, shop_name: shop.name }}</p>
      <div class="flex gap-6">
        {% render 'social-icons' %}
      </div>
      <p>{{ 'general.footer.designed_by' | t }}</p>
    </div>

  </div>
</footer>

{% schema %}
{
  "name": "Footer",
  "tag": "footer",
  "class": "section-footer",
  "settings": [
    {      "type": "text",
      "id": "brand_heading",
      "label": "Brand Heading",
      "default": "Cultivated Sounds"
    },
    {
      "type": "textarea",
      "id": "brand_description",
      "label": "Brand Description",
      "default": "We simplify music discovery with a curated selection of vinyl records and audio essentials. Based in Brooklyn, shipping worldwide."
    },
    {
      "type": "text",
      "id": "newsletter_heading",
      "label": "Newsletter Heading",
      "default": "Join the Club"
    },
    {
      "type": "text",
      "id": "newsletter_text",
      "label": "Newsletter Text",
      "default": "Get early access to drops and exclusive content."
    },
    {
      "type": "header",
      "content": "Section Padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding top",
      "default": 64
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding bottom",
      "default": 32
    }
  ],
  "blocks": [
    {
      "type": "link_list",
      "name": "Menu",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "default": "Quick links",
          "label": "Heading"
        },
        {
          "type": "link_list",
          "id": "menu",
          "default": "footer",
          "label": "Menu"
        }
      ]
    }
  ],
  "enabled_on": {
    "groups": ["footer"]
  },
  "presets": [
    {
      "name": "Footer",
      "blocks": [
        {
          "type": "link_list"
        },
        {
          "type": "link_list"
        }
      ]
    }
  ]
}
{% endschema %}
